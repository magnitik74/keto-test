import streamlit as st
import time

# –ó–∞–≥–æ–ª–æ–≤–æ–∫
st.title("ü•ë –¢–≤–æ–π –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ö–µ—Ç–æ-–ü–ª–∞–Ω")
st.write("–ü—Ä–æ–π–¥–∏—Ç–µ –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø—Ä–æ—Å, —á—Ç–æ–±—ã –ò–ò –ø–æ–¥–æ–±—Ä–∞–ª –º–µ–Ω—é –Ω–∞ 28 –¥–Ω–µ–π.")

# –ö–≤–∏–∑ (–≤–æ–ø—Ä–æ—Å—ã –±–µ–∑ —Å–ª–æ–∂–Ω–æ–≥–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è)
name = st.text_input("–ö–∞–∫ –≤–∞—Å –∑–æ–≤—É—Ç?")
age = st.number_input("–í–æ–∑—Ä–∞—Å—Ç", 18, 80, 25)
weight = st.number_input("–¢–µ–∫—É—â–∏–π –≤–µ—Å (–∫–≥)", 40, 150, 70)
target = st.number_input("–¶–µ–ª–µ–≤–æ–π –≤–µ—Å (–∫–≥)", 40, 150, 60)

no_meat = st.checkbox("–Ø –Ω–µ –µ–º –º—è—Å–æ (—Ç–æ–ª—å–∫–æ —Ä—ã–±–∞ –∏ –æ–≤–æ—â–∏)")
sweets = st.checkbox("–Ø —Ö–æ—á—É –æ—Å—Ç–∞–≤–∏—Ç—å –∫–µ—Ç–æ-–¥–µ—Å–µ—Ä—Ç—ã –≤ —Ä–∞—Ü–∏–æ–Ω–µ")

# –õ–æ–≥–∏–∫–∞ –∫–Ω–æ–ø–∫–∏
if st.button("–†–ê–°–°–ß–ò–¢–ê–¢–¨ –ú–û–ô –ü–õ–ê–ù"):
    # –≠—Ñ—Ñ–µ–∫—Ç —Ä–∞–±–æ—Ç—ã –ò–ò
    status = st.status("–ò–ò –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ...")
    time.sleep(1.5)
    status.write("‚úÖ –†–∞—Å—á–µ—Ç –∫–∞–ª–æ—Ä–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω")
    time.sleep(1)
    status.write(f"‚úÖ –ú–µ–Ω—é –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–æ –ø–æ–¥ —Ü–µ–ª—å: {target} –∫–≥")
    time.sleep(1)
    status.update(label="–ü–ª–∞–Ω –≥–æ—Ç–æ–≤!", state="complete")
    
    st.balloons()
    st.success(f"–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º, {name}! –í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –Ω–∞ 28 –¥–Ω–µ–π —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω.")
    
    # –ö–Ω–æ–ø–∫–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
    try:
        with open("Personal_Keto_Plan.pdf", "rb") as f:
            st.download_button(
                label="üì• –°–ö–ê–ß–ê–¢–¨ –ö–ù–ò–ì–£ –†–ï–¶–ï–ü–¢–û–í (PDF)",
                data=f,
                file_name="My_Keto_Plan.pdf",
                mime="application/pdf"
            )
    except FileNotFoundError:
        st.error("–û—à–∏–±–∫–∞: –§–∞–π–ª 'Personal_Keto_Plan.pdf' –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ GitHub. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–º—è —Ñ–∞–π–ª–∞.")
